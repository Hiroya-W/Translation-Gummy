
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>gummy.journals &#8212; Translation-Gummy  documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/custom.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Translation-Gummy  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">gummy.journals</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for gummy.journals</h1><div class="highlight"><pre>
<span></span><span class="c1"># coding: utf-8</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABCMeta</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">pylatexenc.latex2text</span> <span class="kn">import</span> <span class="n">LatexNodes2Text</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">gateways</span>
<span class="kn">from</span> <span class="nn">.utils._exceptions</span> <span class="kn">import</span> <span class="n">JournalTypeIndistinguishableError</span>
<span class="kn">from</span> <span class="nn">.utils._path</span> <span class="kn">import</span> <span class="n">GUMMY_DIR</span>
<span class="kn">from</span> <span class="nn">.utils.coloring_utils</span> <span class="kn">import</span> <span class="n">toGREEN</span><span class="p">,</span> <span class="n">toBLUE</span><span class="p">,</span> <span class="n">toRED</span><span class="p">,</span> <span class="n">toACCENT</span>
<span class="kn">from</span> <span class="nn">.utils.compress_utils</span> <span class="kn">import</span> <span class="n">extract_from_compressed</span><span class="p">,</span> <span class="n">is_compressed</span>
<span class="kn">from</span> <span class="nn">.utils.download_utils</span> <span class="kn">import</span> <span class="n">download_file</span><span class="p">,</span> <span class="n">decide_extension</span><span class="p">,</span> <span class="n">src2base64</span>
<span class="kn">from</span> <span class="nn">.utils.driver_utils</span> <span class="kn">import</span> <span class="n">wait_until_all_elements</span><span class="p">,</span> <span class="n">try_find_element_click</span><span class="p">,</span> <span class="n">scrollDown</span>
<span class="kn">from</span> <span class="nn">.utils.generic_utils</span> <span class="kn">import</span> <span class="n">mk_class_get</span><span class="p">,</span> <span class="n">handleKeyError</span><span class="p">,</span> <span class="n">str_strip</span>
<span class="kn">from</span> <span class="nn">.utils.journal_utils</span> <span class="kn">import</span> <span class="n">canonicalize</span><span class="p">,</span> <span class="n">whichJournal</span>
<span class="kn">from</span> <span class="nn">.utils.monitor_utils</span> <span class="kn">import</span> <span class="n">ProgressMonitor</span>
<span class="kn">from</span> <span class="nn">.utils.outfmt_utils</span> <span class="kn">import</span> <span class="n">sanitize_filename</span>
<span class="kn">from</span> <span class="nn">.utils.pdf_utils</span> <span class="kn">import</span> <span class="n">getPDFPages</span>
<span class="kn">from</span> <span class="nn">.utils.soup_utils</span> <span class="kn">import</span> <span class="n">split_section</span><span class="p">,</span> <span class="n">group_soup_with_head</span><span class="p">,</span> <span class="n">replace_soup_tag</span><span class="p">,</span> <span class="n">find_target_text</span><span class="p">,</span> <span class="n">find_target_id</span>

<span class="n">SUPPORTED_CRAWL_TYPES</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> <span class="s2">&quot;tex&quot;</span><span class="p">,</span> <span class="s2">&quot;pdf&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="GummyAbstJournal"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal">[docs]</a><span class="k">class</span> <span class="nc">GummyAbstJournal</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">ABCMeta</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Abstract Jounal Crawlers</span>
<span class="sd">    If you want define your own journal crawlers, please inherit this class and define these methods:</span>
<span class="sd">    - crawl_type = &quot;tex&quot;:</span>
<span class="sd">        - get_contents_tex(self, url, driver=None)</span>
<span class="sd">        - * get_contents_tex(self, url, driver=None)</span>
<span class="sd">        - * get_sections_from_tex(tex)</span>
<span class="sd">        - * get_contents_from_tex_sections(tex_sections)</span>
<span class="sd">    - crawl_type = &quot;soup&quot;:</span>
<span class="sd">        - get_soup_source(self, url, driver=None, **gatewaykwargs)</span>
<span class="sd">        - get_contents_soup(self, url, driver=None, **gatewaykwargs)</span>
<span class="sd">        - + get_contents_from_soup_sections(self, soup_sections)</span>
<span class="sd">        - * get_title_from_soup(self, soup)</span>
<span class="sd">        - * get_sections_from_soup(self, soup)</span>
<span class="sd">        - * get_head_from_section(self, section)</span>
<span class="sd">        - + make_elements_visible(self, driver)</span>
<span class="sd">        - decompose_soup_tags(self, soup)</span>
<span class="sd">        - organize_soup_section(self, section, head=&quot;&quot;, head_is_not_added=True)</span>
<span class="sd">    - crawl_type = &quot;pdf&quot;:</span>
<span class="sd">        - get_contents_pdf(self, url, driver=None)</span>
<span class="sd">        - get_pdf_source(self, url, driver=None)</span>
<span class="sd">        - get_title_from_pdf(self, pdf_gen)</span>
<span class="sd">        - get_contents_from_pdf_pages(self, pdf_pages)</span>
<span class="sd">    NOTE: Be sure to define the marked (*) functions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span>
                 <span class="n">DecomposeTexTags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;&lt;cit.&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xa0</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;ref&gt;&quot;</span><span class="p">],</span> 
                 <span class="n">DecomposeSoupTags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;i&#39;</span><span class="p">,</span><span class="s1">&#39;link&#39;</span><span class="p">,</span><span class="s1">&#39;meta&#39;</span><span class="p">,</span><span class="s1">&#39;noscript&#39;</span><span class="p">,</span><span class="s1">&#39;script&#39;</span><span class="p">,</span><span class="s1">&#39;style&#39;</span><span class="p">,</span><span class="s1">&#39;sup&#39;</span><span class="p">],</span> 
                 <span class="n">subheadTags</span><span class="o">=</span><span class="p">[],</span> 
                 <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name_</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;([a-z])([A-Z])&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;\1_\2&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">journal_type</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;^(.*)crawler$&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\1&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">crawl_type</span> <span class="o">=</span> <span class="n">crawl_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gateway</span> <span class="o">=</span> <span class="n">gateways</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">gateway</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sleep_for_loading</span> <span class="o">=</span> <span class="n">sleep_for_loading</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="n">verbose</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">=</span> <span class="n">maxsize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DecomposeTexTags</span> <span class="o">=</span> <span class="n">DecomposeTexTags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DecomposeSoupTags</span> <span class="o">=</span> <span class="n">DecomposeSoupTags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subheadTags</span> <span class="o">=</span> <span class="n">subheadTags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">crawled_info</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_store_crawled_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">crawled_info</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">default_title</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">sanitize_filename</span><span class="p">(</span><span class="n">fp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">crawled_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">@%H.%M.%S&quot;</span><span class="p">)))</span>

<div class="viewcode-block" id="GummyAbstJournal.get_contents_crawl_func"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_contents_crawl_func">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_crawl_func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crawl_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">crawl_type</span> <span class="o">=</span> <span class="n">crawl_type</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">crawl_type</span>
        <span class="n">handleKeyError</span><span class="p">(</span><span class="n">lst</span><span class="o">=</span><span class="n">SUPPORTED_CRAWL_TYPES</span><span class="p">,</span> <span class="n">crawl_type</span><span class="o">=</span><span class="n">crawl_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Crawling Type: </span><span class="si">{</span><span class="n">toACCENT</span><span class="p">(</span><span class="n">crawl_type</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;get_contents_</span><span class="si">{</span><span class="n">crawl_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="GummyAbstJournal.get_contents"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_contents">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">crawl_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_store_crawled_info</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> 
            <span class="n">start_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">@%H.%M.%S&quot;</span><span class="p">),</span>
        <span class="p">)</span>        
        <span class="n">get_contents_func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_contents_crawl_func</span><span class="p">(</span><span class="n">crawl_type</span><span class="o">=</span><span class="n">crawl_type</span><span class="p">)</span>
        <span class="n">title</span><span class="p">,</span> <span class="n">contents</span> <span class="o">=</span> <span class="n">get_contents_func</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">contents</span><span class="p">)</span></div>

    <span class="c1"># ================== #</span>
    <span class="c1">#  crawl_type=&quot;soup&quot; #</span>
    <span class="c1"># ================== #</span>

<div class="viewcode-block" id="GummyAbstJournal.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">url</span></div>

<div class="viewcode-block" id="GummyAbstJournal.get_contents_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_contents_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get contents from url using &#39;BeautifulSoup&#39;.</span>
<span class="sd">        @params url      : (str)  page url</span>
<span class="sd">        @params driver   : (WebDriver) webdriver</span>
<span class="sd">        @return title    : (str)  Title of paper</span>
<span class="sd">        @return contents : (list) Each element is dict (key is `en`, `img`, or `head`).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_soup_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">),</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_title_from_soup</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
        <span class="n">soup_sections</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sections_from_soup</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_contents_from_soup_sections</span><span class="p">(</span><span class="n">soup_sections</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_store_crawled_info</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">soup_sections</span><span class="o">=</span><span class="n">soup_sections</span><span class="p">,</span> <span class="n">contents</span><span class="o">=</span><span class="n">contents</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">contents</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="GummyAbstJournal.get_soup_source"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_soup_source">[docs]</a>    <span class="k">def</span> <span class="nf">get_soup_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Scrape and get page source from url.</span>
<span class="sd">        @params url    : (str) tex file url</span>
<span class="sd">        @params driver : (WebDriver) webdriver</span>
<span class="sd">        @return soup   : (BeautifulSoup)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># If url is None, we will use crawled information.</span>
        <span class="n">cano_url</span> <span class="o">=</span> <span class="n">canonicalize</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_store_crawled_info</span><span class="p">(</span><span class="n">cano_url</span><span class="o">=</span><span class="n">cano_url</span><span class="p">)</span>
        <span class="c1"># If driver is None, we could not use gateway service.</span>
        <span class="k">if</span> <span class="n">driver</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">html</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">cano_url</span><span class="p">)</span><span class="o">.</span><span class="n">content</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Get HTML content from </span><span class="si">{</span><span class="n">toBLUE</span><span class="p">(</span><span class="n">cano_url</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">driver</span><span class="p">,</span> <span class="n">fmt_url_func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gateway</span><span class="o">.</span><span class="n">passthrough</span><span class="p">(</span><span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">cano_url</span><span class="p">,</span> <span class="n">journal_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">journal_type</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">)</span>
            <span class="n">gateway_fmt_url</span> <span class="o">=</span> <span class="n">fmt_url_func</span><span class="p">(</span><span class="n">cano_url</span><span class="o">=</span><span class="n">cano_url</span><span class="p">)</span>
            <span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">gateway_fmt_url</span><span class="p">)</span>
            <span class="n">wait_until_all_elements</span><span class="p">(</span><span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sleep_for_loading</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_elements_visible</span><span class="p">(</span><span class="n">driver</span><span class="p">)</span>
            <span class="n">html</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">page_source</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>

        <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">decompose_soup_tags</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">soup</span></div>

<div class="viewcode-block" id="GummyAbstJournal.make_elements_visible"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.make_elements_visible">[docs]</a>    <span class="k">def</span> <span class="nf">make_elements_visible</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">driver</span><span class="p">):</span>
        <span class="n">scrollDown</span><span class="p">(</span><span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">)</span></div>

<div class="viewcode-block" id="GummyAbstJournal.decompose_soup_tags"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.decompose_soup_tags">[docs]</a>    <span class="k">def</span> <span class="nf">decompose_soup_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This function is not necessary, but you can trim `DecomposeSoupTags` </span>
<span class="sd">        from the soup and it will help with debugging .</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">DecomposeSoupTags</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Decompose unnecessary tags to make it easy to parse.</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">30</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">decoCounts</span> <span class="o">=</span> <span class="p">{</span><span class="n">tag</span><span class="p">:</span><span class="mi">0</span> <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">DecomposeSoupTags</span><span class="o">+</span><span class="p">[</span><span class="kc">None</span><span class="p">]}</span>
            <span class="k">for</span> <span class="n">decoTag</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">DecomposeSoupTags</span><span class="p">):</span>
                <span class="n">decoCounts</span><span class="p">[</span><span class="n">decoTag</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">decoTag</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">decoTag</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">decoCounts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Decomposed </span><span class="si">{</span><span class="n">toGREEN</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&lt;</span><span class="si">{</span><span class="n">decoTag</span><span class="si">}</span><span class="s1">&gt;&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> tag (</span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">soup</span></div>

<div class="viewcode-block" id="GummyAbstJournal.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get page title from page source.</span>
<span class="sd">        @params soup     : (BeautifulSoup)</span>
<span class="sd">        @return title    : (str) page title</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="GummyAbstJournal.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get sections from page source.</span>
<span class="sd">        @params soup     : (BeautifulSoup)</span>
<span class="sd">        @return sections : (list) Each element is (bs4.element.Tag)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;section&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="GummyAbstJournal.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div>

    <span class="k">def</span> <span class="nf">_get_contents_from_soup_sections</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup_sections</span><span class="p">):</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Show contents of the paper.</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">30</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">contents</span>

<div class="viewcode-block" id="GummyAbstJournal.get_contents_from_soup_sections"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_contents_from_soup_sections">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_from_soup_sections</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup_sections</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get text for each soup section.</span>
<span class="sd">        @params soup_sections : (list) Each element is (bs4.element.Tag)</span>
<span class="sd">        @return contents      : (list) Each element is dict (key is `en`, `img`, or `head`).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_contents_from_soup_sections</span><span class="p">(</span><span class="n">soup_sections</span><span class="o">=</span><span class="n">soup_sections</span><span class="p">)</span>
        <span class="n">len_soup_sections</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">soup_sections</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">section</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">soup_sections</span><span class="p">):</span>
            <span class="n">headTag</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_head_from_section</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">headTag</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">head</span> <span class="o">=</span> <span class="n">str_strip</span><span class="p">(</span><span class="n">headTag</span><span class="o">.</span><span class="n">get_text</span><span class="p">())</span>
                <span class="n">headTag</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">head</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="n">contents</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">organize_soup_section</span><span class="p">(</span><span class="n">section</span><span class="o">=</span><span class="n">section</span><span class="p">,</span> <span class="n">head</span><span class="o">=</span><span class="n">head</span><span class="p">))</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s2">&gt;0</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">len_soup_sections</span><span class="p">))</span><span class="si">}}</span><span class="s2">/</span><span class="si">{</span><span class="n">len_soup_sections</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">head</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">contents</span></div>

<div class="viewcode-block" id="GummyAbstJournal.organize_soup_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.organize_soup_section">[docs]</a>    <span class="k">def</span> <span class="nf">organize_soup_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">head</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">head_is_not_added</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Organize soup section </span>
<span class="sd">        * Extract an image and display it as base64 format in the section.</span>
<span class="sd">        * Get Text.</span>
<span class="sd">        * Add head only to the initial content.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">splitted_soup</span> <span class="o">=</span> <span class="n">split_section</span><span class="p">(</span><span class="n">section</span><span class="o">=</span><span class="n">section</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subheadTags</span><span class="o">+</span><span class="p">[</span><span class="s2">&quot;img&quot;</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">splitted_soup</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">head_is_not_added</span><span class="p">:</span>
                <span class="n">content</span><span class="p">[</span><span class="s2">&quot;head&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">head</span>
                <span class="n">head_is_not_added</span> <span class="o">=</span> <span class="kc">False</span>
            
            <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;img&quot;</span><span class="p">:</span>
                <span class="n">content</span><span class="p">[</span><span class="s2">&quot;img&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">src2base64</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">crawled_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cano_url&quot;</span><span class="p">),</span> <span class="n">src</span><span class="o">=</span><span class="n">element</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">element</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subheadTags</span><span class="p">:</span>
                <span class="n">content</span><span class="p">[</span><span class="s2">&quot;subhead&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">str_strip</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">get_text</span><span class="p">())</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">content</span><span class="p">[</span><span class="s2">&quot;en&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
            <span class="n">contents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>            
        <span class="k">return</span> <span class="n">contents</span> </div>

    <span class="c1"># ================== #</span>
    <span class="c1">#  crawl_type=&quot;tex&quot;  #</span>
    <span class="c1"># ================== #</span>

<div class="viewcode-block" id="GummyAbstJournal.get_tex_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_tex_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_tex_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">url</span></div>

<div class="viewcode-block" id="GummyAbstJournal.get_contents_tex"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_contents_tex">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_tex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get contents from url by parsing TeX sources.</span>
<span class="sd">        @params url      : (str)  page url</span>
<span class="sd">        @params driver   : (WebDriver) webdriver</span>
<span class="sd">        @return title    : (str)  Title of paper</span>
<span class="sd">        @return contents : (list) Each element is dict (key is `en`, `img`, or `head`).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_tex_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_tex_url</span><span class="p">(</span><span class="n">url</span><span class="p">),</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_title_from_tex</span><span class="p">(</span><span class="n">tex</span><span class="p">)</span>
        <span class="c1"># NOTE: If we can scrape &quot;title&quot; from soup, please prioritize it.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
            <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_soup_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">),</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_title_from_soup</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
        <span class="n">tex_sections</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sections_from_tex</span><span class="p">(</span><span class="n">tex</span><span class="p">)</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_contents_from_tex_sections</span><span class="p">(</span><span class="n">tex_sections</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_store_crawled_info</span><span class="p">(</span><span class="n">tex</span><span class="o">=</span><span class="n">tex</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">tex_sections</span><span class="o">=</span><span class="n">tex_sections</span><span class="p">,</span> <span class="n">contents</span><span class="o">=</span><span class="n">contents</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">contents</span><span class="p">)</span></div>

<div class="viewcode-block" id="GummyAbstJournal.get_tex_source"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_tex_source">[docs]</a>    <span class="k">def</span> <span class="nf">get_tex_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Download and get tex source from url.</span>
<span class="sd">        @params url    : (str) tex file url</span>
<span class="sd">        @params driver : (WebDriver) webdriver</span>
<span class="sd">        @return tex    : (str) Plain text of tex sources.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">download_file</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">dirname</span><span class="o">=</span><span class="n">GUMMY_DIR</span><span class="p">)</span>
        <span class="n">ext</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">is_compressed</span><span class="p">(</span><span class="n">ext</span><span class="p">):</span>
            <span class="n">extracted_file_paths</span> <span class="o">=</span> <span class="n">extract_from_compressed</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="s2">&quot;.tex&quot;</span><span class="p">,</span> <span class="n">dirname</span><span class="o">=</span><span class="n">GUMMY_DIR</span><span class="p">)</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">extracted_file_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ftex</span><span class="p">:</span> 
            <span class="n">tex</span> <span class="o">=</span> <span class="n">LatexNodes2Text</span><span class="p">()</span><span class="o">.</span><span class="n">latex_to_text</span><span class="p">(</span><span class="n">ftex</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">decompose</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">DecomposeTexTags</span><span class="p">:</span>
            <span class="n">tex</span> <span class="o">=</span> <span class="n">tex</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">decompose</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">tex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;[ 　]+&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">tex</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tex</span></div>

<div class="viewcode-block" id="GummyAbstJournal.get_title_from_tex"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_title_from_tex">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_tex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tex</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get page title from tex source.</span>
<span class="sd">        @params tex   : (str) Plain text of tex sources.</span>
<span class="sd">        @return title : (str) page title</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;title&quot;</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="GummyAbstJournal.get_sections_from_tex"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_sections_from_tex">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_tex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tex</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get sections from tex source.</span>
<span class="sd">        @params tex      : (str) Plain text of tex sources.</span>
<span class="sd">        @return sections : (list) Each element is plain text (str)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sections&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">sections</span>    </div>

<div class="viewcode-block" id="GummyAbstJournal.get_contents_from_tex_sections"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_contents_from_tex_sections">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_from_tex_sections</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tex_sections</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get text for each tex section.</span>
<span class="sd">        @params soup_sections : (list) Each element is plain text (str)</span>
<span class="sd">        @return contents      : (list) Each element is dict (key is `en`, `img`, or `head`).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Show contents of the paper</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">30</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">contents</span></div>

    <span class="c1"># ================== #</span>
    <span class="c1">#  crawl_type=&quot;pdf&quot;  #</span>
    <span class="c1"># ================== #</span>

<div class="viewcode-block" id="GummyAbstJournal.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">url</span></div>

<div class="viewcode-block" id="GummyAbstJournal.get_contents_pdf"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_contents_pdf">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get contents from url by parsing TeX sources.</span>
<span class="sd">        @params url      : (str)  page url</span>
<span class="sd">        @params driver   : (WebDriver) webdriver</span>
<span class="sd">        @return title    : (str)  Title of paper</span>
<span class="sd">        @return contents : (list) Each element is dict (key is `en`, `img`, or `head`).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pdf_pages</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_pdf_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">),</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_title_from_pdf</span><span class="p">(</span><span class="n">pdf_pages</span><span class="p">)</span>
        <span class="c1"># NOTE: If we can scrape &quot;title&quot; from soup, please prioritize it.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
            <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_soup_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">),</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_title_from_soup</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_contents_from_pdf_pages</span><span class="p">(</span><span class="n">pdf_pages</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_store_crawled_info</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">pdf_pages</span><span class="o">=</span><span class="n">pdf_pages</span><span class="p">,</span> <span class="n">contents</span><span class="o">=</span><span class="n">contents</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">contents</span><span class="p">)</span></div>

<div class="viewcode-block" id="GummyAbstJournal.get_pdf_source"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_pdf_source">[docs]</a>    <span class="k">def</span> <span class="nf">get_pdf_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Download and get PDF source from url.</span>
<span class="sd">        @params url    : (str) PDF file url or path/to/PDF</span>
<span class="sd">        @params driver : (WebDriver) webdriver</span>
<span class="sd">        @return tex    : (str) Plain text of tex sources.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pdf_pages</span> <span class="o">=</span> <span class="n">getPDFPages</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">url</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pdf_pages</span></div>

<div class="viewcode-block" id="GummyAbstJournal.get_title_from_pdf"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_title_from_pdf">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pdf_gen</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;title&quot;</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="GummyAbstJournal.get_contents_from_pdf_pages"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GummyAbstJournal.get_contents_from_pdf_pages">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_from_pdf_pages</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pdf_pages</span><span class="p">):</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">len_pdf_pages</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pdf_pages</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">page_texts</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pdf_pages</span><span class="p">):</span>
            <span class="n">page_no</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Page.</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s2">&gt;0</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">len_pdf_pages</span><span class="p">))</span><span class="si">}}</span><span class="s2">/</span><span class="si">{</span><span class="n">len_pdf_pages</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">content</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;head&quot;</span> <span class="p">:</span> <span class="n">page_no</span><span class="p">,</span> <span class="s2">&quot;en&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">}</span>
            <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">page_texts</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">text</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;&lt;img src=&quot;data:image/jpeg;base64&#39;</span><span class="p">):</span>
                    <span class="n">contents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
                    <span class="n">contents</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;img&quot;</span><span class="p">:</span> <span class="n">text</span><span class="p">})</span>
                    <span class="n">content</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;en&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">}</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">content</span><span class="p">[</span><span class="s2">&quot;en&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">content</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="n">contents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">page_no</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">contents</span></div></div>

<div class="viewcode-block" id="LocalPDFCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LocalPDFCrawler">[docs]</a><span class="k">class</span> <span class="nc">LocalPDFCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="LocalPDFCrawler.get_contents_pdf"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LocalPDFCrawler.get_contents_pdf">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">contents</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_contents_pdf</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="s2">&quot;filename&quot;</span><span class="p">):</span>
            <span class="n">url</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="s2">&quot;filename&quot;</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;.pdf&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span><span class="p">,</span> <span class="n">contents</span></div></div>

<div class="viewcode-block" id="NatureCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NatureCrawler">[docs]</a><span class="k">class</span> <span class="nc">NatureCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
            <span class="n">subheadTags</span><span class="o">=</span><span class="p">[],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidAriaLabel</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span><span class="s1">&#39;Ack1&#39;</span><span class="p">,</span><span class="s1">&#39;Bib1&#39;</span><span class="p">,</span><span class="s1">&#39;additional-information&#39;</span><span class="p">,</span><span class="s1">&#39;article-comments&#39;</span><span class="p">,</span><span class="s1">&#39;article-info&#39;</span><span class="p">,</span><span class="s1">&#39;author-information&#39;</span><span class="p">,</span><span class="s1">&#39;ethics&#39;</span><span class="p">,</span><span class="s1">&#39;further-reading&#39;</span><span class="p">,</span><span class="s1">&#39;rightslink&#39;</span><span class="p">]</span>

<div class="viewcode-block" id="NatureCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NatureCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span> <span class="p">:</span> <span class="s2">&quot;c-article-title&quot;</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="NatureCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NatureCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;aria-labelledby&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidAriaLabel</span><span class="p">]</span>
        <span class="c1"># If the paper is old version, it may not be possible to obtain the content by the above way.</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sections</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;c-article-section__content&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="NatureCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NatureCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="arXivCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.arXivCrawler">[docs]</a><span class="k">class</span> <span class="nc">arXivCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
            <span class="n">DecomposeTexTags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;&lt;cit.&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xa0</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;ref&gt;&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidAriaLabel</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;Bib1&#39;</span><span class="p">,</span> <span class="s1">&#39;additional-information&#39;</span><span class="p">,</span> <span class="s1">&#39;article-comments&#39;</span><span class="p">,</span> <span class="s1">&#39;article-info&#39;</span><span class="p">,</span> <span class="s1">&#39;author-information&#39;</span><span class="p">,</span> <span class="s1">&#39;ethics&#39;</span><span class="p">,</span> <span class="s1">&#39;further-reading&#39;</span><span class="p">,</span> <span class="s1">&#39;rightslink&#39;</span><span class="p">]</span>

<div class="viewcode-block" id="arXivCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.arXivCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;https://arxiv.org/pdf/</span><span class="si">{</span><span class="n">arXivCrawler</span><span class="o">.</span><span class="n">get_arXivNo</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="si">}</span><span class="s2">.pdf&quot;</span></div>

<div class="viewcode-block" id="arXivCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.arXivCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;https://arxiv.org/abs/</span><span class="si">{</span><span class="n">arXivCrawler</span><span class="o">.</span><span class="n">get_arXivNo</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span></div>

<div class="viewcode-block" id="arXivCrawler.get_tex_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.arXivCrawler.get_tex_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_tex_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;https://arxiv.org/e-print/</span><span class="si">{</span><span class="n">arXivCrawler</span><span class="o">.</span><span class="n">get_arXivNo</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span></div>

<div class="viewcode-block" id="arXivCrawler.get_arXivNo"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.arXivCrawler.get_arXivNo">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_arXivNo</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;^.+\/((?:\d|\.)+)(?:\.pdf)?$&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\1&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span></div>

<div class="viewcode-block" id="arXivCrawler.get_contents_tex"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.arXivCrawler.get_contents_tex">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_tex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get contents from url by parsing TeX sources.</span>
<span class="sd">        @params url      : (str)  page url</span>
<span class="sd">        @params driver   : (WebDriver) webdriver</span>
<span class="sd">        @return title    : (str)  Title of paper</span>
<span class="sd">        @return contents : (list) Each element is dict (key is `en`, `img`, or `head`).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">arXivNo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_arXivNo</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">tex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_tex_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_tex_url</span><span class="p">(</span><span class="n">arXivNo</span><span class="p">),</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="c1"># title = self.get_title_from_tex(tex)</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_soup_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">arXivNo</span><span class="p">),</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_title_from_soup</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
        <span class="n">tex_sections</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sections_from_tex</span><span class="p">(</span><span class="n">tex</span><span class="p">)</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_contents_from_tex_sections</span><span class="p">(</span><span class="n">tex_sections</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">contents</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="arXivCrawler.get_title_from_tex"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.arXivCrawler.get_title_from_tex">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_tex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tex</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Not Impremented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="arXivCrawler.get_sections_from_tex"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.arXivCrawler.get_sections_from_tex">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_tex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tex</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">tex</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;§.§&quot;</span><span class="p">,</span> <span class="s2">&quot;§&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;§&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span>   </div>
    
<div class="viewcode-block" id="arXivCrawler.get_contents_from_tex_sections"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.arXivCrawler.get_contents_from_tex_sections">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_from_tex_sections</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tex_sections</span><span class="p">):</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_get_contents_from_soup_sections</span><span class="p">(</span><span class="n">tex_sections</span><span class="p">)</span>
        <span class="n">len_tex_sections</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">tex_sections</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">section</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tex_sections</span><span class="p">):</span>
            <span class="n">content</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">first_nl</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="p">[:</span><span class="n">first_nl</span><span class="p">]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span>
            <span class="n">content</span><span class="p">[</span><span class="s2">&quot;head&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">str_strip</span><span class="p">(</span><span class="n">head</span><span class="p">)</span>
            <span class="n">content</span><span class="p">[</span><span class="s2">&quot;en&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">section</span><span class="p">[</span><span class="n">first_nl</span><span class="p">:]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">contents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s2">&gt;0</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">len_tex_sections</span><span class="p">))</span><span class="si">}}</span><span class="s2">/</span><span class="si">{</span><span class="n">len_tex_sections</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">head</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">contents</span></div>

<div class="viewcode-block" id="arXivCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.arXivCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get page title from page source.</span>
<span class="sd">        @params soup     : (BeautifulSoup)</span>
<span class="sd">        @return title    : (str) page title</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span> <span class="p">:</span> <span class="s2">&quot;title mathjax&quot;</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;Title:&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div></div>

<div class="viewcode-block" id="NCBICrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NCBICrawler">[docs]</a><span class="k">class</span> <span class="nc">NCBICrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># self.AvoidIdsPatterns = [r&quot;^idm[0-9]+&quot;, r&quot;^S49$&quot;, r&quot;^ass-data$&quot;]</span>
        <span class="c1"># self.AvoidHead = [&quot;References&quot;, &quot;References and Notes&quot;]</span>

    <span class="c1"># @property</span>
    <span class="c1"># def AvoidIdsPattern(self):</span>
    <span class="c1">#     return f&quot;(?:{&#39;|&#39;.join([f&#39;(?:{pat})&#39; for pat in self.AvoidIdsPatterns])})&quot;</span>

<div class="viewcode-block" id="NCBICrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NCBICrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;content-title&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="NCBICrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NCBICrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;tsec&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">e</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;OK&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;reference&quot;</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="NCBICrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NCBICrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span><span class="c1">#, class_=&quot;c-article-section__title&quot;)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="PubMedCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PubMedCrawler">[docs]</a><span class="k">class</span> <span class="nc">PubMedCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIdsPatterns</span> <span class="o">=</span> <span class="p">[</span><span class="sa">r</span><span class="s2">&quot;^idm[0-9]+&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;^S49$&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;^ass-data$&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="PubMedCrawler.get_contents_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PubMedCrawler.get_contents_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">):</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_soup_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">)</span>
        <span class="n">a_doi</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;id-link&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">a_doi</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cano_url</span> <span class="o">=</span> <span class="n">canonicalize</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">a_doi</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">),</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">cano_url</span><span class="o">!=</span><span class="n">url</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">journal_type</span> <span class="o">=</span> <span class="n">whichJournal</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">cano_url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">journal_type</span><span class="o">!=</span><span class="s2">&quot;pubmed&quot;</span><span class="p">:</span> <span class="c1"># Prevent infinite loop</span>
                        <span class="n">crawler</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="n">journal_type</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gateway</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">)</span>
                        <span class="k">return</span> <span class="n">crawler</span><span class="o">.</span><span class="n">get_contents</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">cano_url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">JournalTypeIndistinguishableError</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">toGREEN</span><span class="p">(</span><span class="s1">&#39;gummy.utils.journal_utils.whichJournal&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> could not distinguish the journal type, so Scraping from PubMed&quot;</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_title_from_soup</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
        <span class="n">soup_sections</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sections_from_soup</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_contents_from_soup_sections</span><span class="p">(</span><span class="n">soup_sections</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_store_crawled_info</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">soup_sections</span><span class="o">=</span><span class="n">soup_sections</span><span class="p">,</span> <span class="n">contents</span><span class="o">=</span><span class="n">contents</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">contents</span><span class="p">)</span></div>

<div class="viewcode-block" id="PubMedCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PubMedCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;heading-title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="PubMedCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PubMedCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;abstract&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="PubMedCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PubMedCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="OxfordAcademicCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.OxfordAcademicCrawler">[docs]</a><span class="k">class</span> <span class="nc">OxfordAcademicCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
            <span class="n">subheadTags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;h3&quot;</span><span class="p">,</span><span class="s2">&quot;h4&quot;</span><span class="p">]</span>
        <span class="p">)</span>
    
<div class="viewcode-block" id="OxfordAcademicCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.OxfordAcademicCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article-title-main&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="OxfordAcademicCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.OxfordAcademicCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">article_full_text</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;widget-items&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;data-widgetname&quot;</span><span class="p">:</span> <span class="s2">&quot;ArticleFulltext&quot;</span><span class="p">})</span>
        <span class="k">if</span> <span class="n">article_full_text</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sections</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">group_soup_with_head</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">article_full_text</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="OxfordAcademicCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.OxfordAcademicCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="ScienceDirect"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ScienceDirect">[docs]</a><span class="k">class</span> <span class="nc">ScienceDirect</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="ScienceDirect.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ScienceDirect.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;title-text&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="ScienceDirect.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ScienceDirect.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;Abstracts&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="ScienceDirect.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ScienceDirect.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;section-title&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="SpringerCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.SpringerCrawler">[docs]</a><span class="k">class</span> <span class="nc">SpringerCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidAriaLabel</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span><span class="s1">&#39;Ack1&#39;</span><span class="p">,</span><span class="s1">&#39;Bib1&#39;</span><span class="p">,</span><span class="s1">&#39;additional-information&#39;</span><span class="p">,</span><span class="s1">&#39;article-comments&#39;</span><span class="p">,</span><span class="s1">&#39;article-info&#39;</span><span class="p">,</span><span class="s1">&#39;author-information&#39;</span><span class="p">,</span><span class="s1">&#39;ethics&#39;</span><span class="p">,</span><span class="s1">&#39;further-reading&#39;</span><span class="p">,</span><span class="s1">&#39;rightslink&#39;</span><span class="p">]</span>

<div class="viewcode-block" id="SpringerCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.SpringerCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;c-article-title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="SpringerCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.SpringerCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;aria-labelledby&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidAriaLabel</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sections</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Abs1&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidAriaLabel</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="SpringerCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.SpringerCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span><span class="c1">#, class_=&quot;c-article-section__title&quot;)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="MDPICrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.MDPICrawler">[docs]</a><span class="k">class</span> <span class="nc">MDPICrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidAriaLabel</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span><span class="s1">&#39;Ack1&#39;</span><span class="p">,</span><span class="s1">&#39;Bib1&#39;</span><span class="p">,</span><span class="s1">&#39;additional-information&#39;</span><span class="p">,</span><span class="s1">&#39;article-comments&#39;</span><span class="p">,</span><span class="s1">&#39;article-info&#39;</span><span class="p">,</span><span class="s1">&#39;author-information&#39;</span><span class="p">,</span><span class="s1">&#39;ethics&#39;</span><span class="p">,</span><span class="s1">&#39;further-reading&#39;</span><span class="p">,</span><span class="s1">&#39;rightslink&#39;</span><span class="p">]</span>

<div class="viewcode-block" id="MDPICrawler.get_soup_source"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.MDPICrawler.get_soup_source">[docs]</a>    <span class="k">def</span> <span class="nf">get_soup_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">):</span>
        <span class="c1"># If url is None, we will use crawled information.</span>
        <span class="n">cano_url</span> <span class="o">=</span> <span class="n">canonicalize</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">)</span>
        <span class="n">cano_url</span> <span class="o">=</span> <span class="n">cano_url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/htm&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;/htm&quot;</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_soup_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">cano_url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">soup</span></div>

<div class="viewcode-block" id="MDPICrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.MDPICrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="MDPICrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.MDPICrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;type&quot;</span> <span class="p">:</span> <span class="s2">&quot;other&quot;</span><span class="p">})</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;aria-labelledby&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidAriaLabel</span><span class="p">]</span>
        <span class="n">abst</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;art-abstract&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">abst</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">abst_section</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;type&quot;</span> <span class="p">:</span> <span class="s2">&quot;other&quot;</span><span class="p">})</span>
            <span class="n">abst_h2Tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
            <span class="n">abst_h2Tag</span><span class="o">.</span><span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;0. Abstract&quot;</span>
            <span class="n">abst_section</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">abst_h2Tag</span><span class="p">)</span>
            <span class="n">abst_section</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">abst</span><span class="p">)</span>
            <span class="n">sections</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">abst_section</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="MDPICrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.MDPICrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="FEBSPRESSCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.FEBSPRESSCrawler">[docs]</a><span class="k">class</span> <span class="nc">FEBSPRESSCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="FEBSPRESSCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.FEBSPRESSCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;citation__title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="FEBSPRESSCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.FEBSPRESSCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;article-section__abstract&quot;</span><span class="p">,</span> <span class="s2">&quot;article-section__content&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="FEBSPRESSCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.FEBSPRESSCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="UniOKLAHOMACrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.UniOKLAHOMACrawler">[docs]</a><span class="k">class</span> <span class="nc">UniOKLAHOMACrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="UniOKLAHOMACrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.UniOKLAHOMACrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sections</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">:</span>
            <span class="n">title</span> <span class="o">=</span> <span class="n">sections</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_title</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="UniOKLAHOMACrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.UniOKLAHOMACrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a0&quot;</span><span class="p">,</span> <span class="s2">&quot;MsoNormal&quot;</span><span class="p">))[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="UniOKLAHOMACrawler.get_contents_from_soup_sections"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.UniOKLAHOMACrawler.get_contents_from_soup_sections">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_from_soup_sections</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup_sections</span><span class="p">):</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_get_contents_from_soup_sections</span><span class="p">(</span><span class="n">soup_sections</span><span class="p">)</span>
        <span class="n">len_soup_sections</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">soup_sections</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">section</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">soup_sections</span><span class="p">):</span>
            <span class="n">contents</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">organize_soup_section</span><span class="p">(</span><span class="n">section</span><span class="o">=</span><span class="n">section</span><span class="p">,</span> <span class="n">head</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">head_is_not_added</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s2">&gt;0</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">len_soup_sections</span><span class="p">))</span><span class="si">}}</span><span class="s2">/</span><span class="si">{</span><span class="n">len_soup_sections</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">contents</span></div></div>

<div class="viewcode-block" id="LungCancerCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LungCancerCrawler">[docs]</a><span class="k">class</span> <span class="nc">LungCancerCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
            <span class="n">subheadTags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;h3&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidHead</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Keywords&quot;</span><span class="p">,</span> <span class="s2">&quot;References&quot;</span><span class="p">,</span> <span class="s2">&quot;Article Info&quot;</span><span class="p">,</span> <span class="s2">&quot;Publication History&quot;</span><span class="p">,</span> <span class="s2">&quot;Identification&quot;</span><span class="p">,</span> <span class="s2">&quot;Copyright&quot;</span><span class="p">,</span> <span class="s2">&quot;ScienceDirect&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="LungCancerCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LungCancerCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article-header__title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="LungCancerCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LungCancerCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">e</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;h2&quot;</span><span class="p">,</span> <span class="s2">&quot;h3&quot;</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidHead</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="LungCancerCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LungCancerCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="CellPressCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.CellPressCrawler">[docs]</a><span class="k">class</span> <span class="nc">CellPressCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidDataLeftHandNavs</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Acknowledgements&quot;</span><span class="p">,</span> <span class="s2">&quot;References&quot;</span><span class="p">]</span>
    
<div class="viewcode-block" id="CellPressCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.CellPressCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article-header__title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="CellPressCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.CellPressCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">find_target_id</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">e</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;data-left-hand-nav&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidDataLeftHandNavs</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="CellPressCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.CellPressCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="WileyOnlineLibraryCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.WileyOnlineLibraryCrawler">[docs]</a><span class="k">class</span> <span class="nc">WileyOnlineLibraryCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
    
<div class="viewcode-block" id="WileyOnlineLibraryCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.WileyOnlineLibraryCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;citation__title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="WileyOnlineLibraryCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.WileyOnlineLibraryCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;article-section article-section__abstract&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="WileyOnlineLibraryCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.WileyOnlineLibraryCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h3&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="JBCCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JBCCrawler">[docs]</a><span class="k">class</span> <span class="nc">JBCCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
    
<div class="viewcode-block" id="JBCCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JBCCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;article-title-1&quot;</span><span class="p">},</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="JBCCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JBCCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;section abstract&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="JBCCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JBCCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="BiologistsCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.BiologistsCrawler">[docs]</a><span class="k">class</span> <span class="nc">BiologistsCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIDs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ack&quot;</span><span class="p">,</span> <span class="s2">&quot;fn-group&quot;</span><span class="p">,</span> <span class="s2">&quot;ref-list&quot;</span><span class="p">]</span>
    
<div class="viewcode-block" id="BiologistsCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.BiologistsCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;highwire-cite-title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="BiologistsCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.BiologistsCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">([</span><span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIDs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIDs</span><span class="p">])]</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="BiologistsCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.BiologistsCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="BioMedCentralCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.BioMedCentralCrawler">[docs]</a><span class="k">class</span> <span class="nc">BioMedCentralCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidAriaLabel</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span><span class="s1">&#39;Ack1&#39;</span><span class="p">,</span><span class="s1">&#39;Bib1&#39;</span><span class="p">,</span><span class="s1">&#39;additional-information&#39;</span><span class="p">,</span><span class="s1">&#39;article-comments&#39;</span><span class="p">,</span><span class="s1">&#39;article-info&#39;</span><span class="p">,</span><span class="s1">&#39;author-information&#39;</span><span class="p">,</span><span class="s1">&#39;ethics&#39;</span><span class="p">,</span><span class="s1">&#39;further-reading&#39;</span><span class="p">,</span><span class="s1">&#39;rightslink&#39;</span><span class="p">,</span><span class="s1">&#39;Sec2&#39;</span><span class="p">,</span><span class="s1">&#39;Sec3&#39;</span><span class="p">]</span>
    
<div class="viewcode-block" id="BioMedCentralCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.BioMedCentralCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;c-article-title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="BioMedCentralCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.BioMedCentralCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;aria-labelledby&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidAriaLabel</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="BioMedCentralCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.BioMedCentralCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="IEEEXploreCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.IEEEXploreCrawler">[docs]</a><span class="k">class</span> <span class="nc">IEEEXploreCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
    
<div class="viewcode-block" id="IEEEXploreCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.IEEEXploreCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;document-title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="IEEEXploreCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.IEEEXploreCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># Abstract</span>
        <span class="n">abst</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;abstract-text&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">abst</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">abst_div_section</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span>
            <span class="n">abst_strong</span> <span class="o">=</span> <span class="n">abst</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;strong&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">abst_strong</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">abst_strong</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span>
            <span class="n">abst_divTag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;header&quot;</span><span class="p">)</span>
            <span class="n">abst_divTag</span><span class="o">.</span><span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;Abstract&quot;</span>
            <span class="n">abst_div_section</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">abst_divTag</span><span class="p">)</span>
            <span class="n">abst_div_section</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">abst</span><span class="p">)</span>
            <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">abst_div_section</span><span class="p">)</span>
        <span class="c1"># Other article</span>
        <span class="n">article</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;article&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">article</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sections</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">article</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="IEEEXploreCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.IEEEXploreCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;header&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="JSTAGECrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JSTAGECrawler">[docs]</a><span class="k">class</span> <span class="nc">JSTAGECrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
    
<div class="viewcode-block" id="JSTAGECrawler.get_soup_source"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JSTAGECrawler.get_soup_source">[docs]</a>    <span class="k">def</span> <span class="nf">get_soup_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">):</span>
        <span class="n">cano_url</span> <span class="o">=</span> <span class="n">canonicalize</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;You can download PDF from </span><span class="si">{</span><span class="n">toBLUE</span><span class="p">(</span><span class="n">cano_url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_article&#39;</span><span class="p">,</span> <span class="s1">&#39;_pdf/-char/en&#39;</span><span class="p">))</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_soup_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">cano_url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">soup</span></div>

<div class="viewcode-block" id="JSTAGECrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JSTAGECrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;global-article-title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="JSTAGECrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JSTAGECrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;article-overiew-abstract-wrap&quot;</span><span class="p">})</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="JSTAGECrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JSTAGECrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="ACSPublicationsCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACSPublicationsCrawler">[docs]</a><span class="k">class</span> <span class="nc">ACSPublicationsCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
    
<div class="viewcode-block" id="ACSPublicationsCrawler.get_soup_source"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACSPublicationsCrawler.get_soup_source">[docs]</a>    <span class="k">def</span> <span class="nf">get_soup_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">):</span>
        <span class="n">cano_url</span> <span class="o">=</span> <span class="n">canonicalize</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;You can download PDF from </span><span class="si">{</span><span class="n">toBLUE</span><span class="p">(</span><span class="n">cano_url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;/doi/&#39;</span><span class="p">,</span> <span class="s1">&#39;/doi/pdf/&#39;</span><span class="p">))</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_soup_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">cano_url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">soup</span></div>

<div class="viewcode-block" id="ACSPublicationsCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACSPublicationsCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article_header-title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="ACSPublicationsCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACSPublicationsCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article_abstract&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="ACSPublicationsCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACSPublicationsCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="StemCellsCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.StemCellsCrawler">[docs]</a><span class="k">class</span> <span class="nc">StemCellsCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
    
<div class="viewcode-block" id="StemCellsCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.StemCellsCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;citation__title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="StemCellsCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.StemCellsCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;article-section__abstract&quot;</span><span class="p">,</span> <span class="s2">&quot;article-section__content&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="StemCellsCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.StemCellsCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="KeioUniCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.KeioUniCrawler">[docs]</a><span class="k">class</span> <span class="nc">KeioUniCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="KeioUniCrawler.get_contents_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.KeioUniCrawler.get_contents_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">):</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_soup_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">)</span>
        <span class="n">div_doi</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;doi&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">div_doi</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">a_doi</span> <span class="o">=</span> <span class="n">div_doi</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">a_doi</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">cano_url</span> <span class="o">=</span> <span class="n">canonicalize</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">a_doi</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">),</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">cano_url</span><span class="o">!=</span><span class="n">url</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">journal_type</span> <span class="o">=</span> <span class="n">whichJournal</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">cano_url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">journal_type</span><span class="o">!=</span><span class="s2">&quot;unikeio&quot;</span><span class="p">:</span> <span class="c1"># Prevent infinite loop</span>
                            <span class="n">crawler</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="n">journal_type</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gateway</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">)</span>
                            <span class="k">return</span> <span class="n">crawler</span><span class="o">.</span><span class="n">get_contents</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">cano_url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">)</span>
                    <span class="k">except</span> <span class="n">JournalTypeIndistinguishableError</span><span class="p">:</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">toGREEN</span><span class="p">(</span><span class="s1">&#39;gummy.utils.journal_utils.whichJournal&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> could not distinguish the journal type, so Scraping from PubMed&quot;</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_title_from_soup</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
        <span class="n">soup_sections</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sections_from_soup</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_contents_from_soup_sections</span><span class="p">(</span><span class="n">soup_sections</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_store_crawled_info</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">soup_sections</span><span class="o">=</span><span class="n">soup_sections</span><span class="p">,</span> <span class="n">contents</span><span class="o">=</span><span class="n">contents</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">contents</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="KeioUniCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.KeioUniCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="KeioUniCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.KeioUniCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;rendering_contributiontojournal_abstractportal&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="KeioUniCrawler.get_contents_from_soup_sections"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.KeioUniCrawler.get_contents_from_soup_sections">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_from_soup_sections</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup_sections</span><span class="p">):</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_get_contents_from_soup_sections</span><span class="p">(</span><span class="n">soup_sections</span><span class="p">)</span>
        <span class="n">len_soup_sections</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">soup_sections</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">section</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">soup_sections</span><span class="p">):</span>
            <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Abstract&quot;</span><span class="p">])[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">contents</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">organize_soup_section</span><span class="p">(</span><span class="n">section</span><span class="o">=</span><span class="n">section</span><span class="p">,</span> <span class="n">head</span><span class="o">=</span><span class="n">head</span><span class="p">))</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s2">&gt;0</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">len_soup_sections</span><span class="p">))</span><span class="si">}}</span><span class="s2">/</span><span class="si">{</span><span class="n">len_soup_sections</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">head</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">contents</span></div></div>

<div class="viewcode-block" id="PLOSONECrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PLOSONECrawler">[docs]</a><span class="k">class</span> <span class="nc">PLOSONECrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIDs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;authcontrib&quot;</span><span class="p">,</span> <span class="s2">&quot;references&quot;</span><span class="p">]</span>
    
<div class="viewcode-block" id="PLOSONECrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PLOSONECrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;artTitle&quot;</span><span class="p">},</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="PLOSONECrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PLOSONECrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;toc-section&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">e</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIDs</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="PLOSONECrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PLOSONECrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="frontiersCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.frontiersCrawler">[docs]</a><span class="k">class</span> <span class="nc">frontiersCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
            <span class="n">subheadTags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;h2&quot;</span><span class="p">]</span>
        <span class="p">)</span>
    
<div class="viewcode-block" id="frontiersCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.frontiersCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="frontiersCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.frontiersCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;JournalAbstract&quot;</span><span class="p">)</span>
        <span class="n">text_section</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;JournalFullText&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">text_section</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sections</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">group_soup_with_head</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">text_section</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="frontiersCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.frontiersCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="RNAjournalCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RNAjournalCrawler">[docs]</a><span class="k">class</span> <span class="nc">RNAjournalCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
    
<div class="viewcode-block" id="RNAjournalCrawler.get_soup_source"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RNAjournalCrawler.get_soup_source">[docs]</a>    <span class="k">def</span> <span class="nf">get_soup_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">):</span>
        <span class="n">cano_url</span> <span class="o">=</span> <span class="n">canonicalize</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;You can download PDF from </span><span class="si">{</span><span class="n">toBLUE</span><span class="p">(</span><span class="n">cano_url</span> <span class="o">+</span> <span class="s1">&#39;.full.pdf&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_soup_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">cano_url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">soup</span></div>

<div class="viewcode-block" id="RNAjournalCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RNAjournalCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;article-title-1&quot;</span><span class="p">,</span> <span class="s2">&quot;itemprop&quot;</span><span class="p">:</span> <span class="s2">&quot;headline&quot;</span><span class="p">},</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="RNAjournalCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RNAjournalCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="RNAjournalCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RNAjournalCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="IntechOpenCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.IntechOpenCrawler">[docs]</a><span class="k">class</span> <span class="nc">IntechOpenCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
    
<div class="viewcode-block" id="IntechOpenCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.IntechOpenCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="IntechOpenCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.IntechOpenCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;intro&quot;</span><span class="p">)</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;reader-body&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">body</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sections</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">body</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="IntechOpenCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.IntechOpenCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="NRCResearchPressCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NRCResearchPressCrawler">[docs]</a><span class="k">class</span> <span class="nc">NRCResearchPressCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
    
<div class="viewcode-block" id="NRCResearchPressCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NRCResearchPressCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article-title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="NRCResearchPressCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NRCResearchPressCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;box-pad border-lightgray margin-bottom&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="NRCResearchPressCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NRCResearchPressCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="SpandidosCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.SpandidosCrawler">[docs]</a><span class="k">class</span> <span class="nc">SpandidosCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
            <span class="n">subheadTags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;h5&quot;</span><span class="p">]</span>
        <span class="p">)</span>
    
<div class="viewcode-block" id="SpandidosCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.SpandidosCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;titleId&quot;</span><span class="p">},</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="SpandidosCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.SpandidosCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;articleAbstract&quot;</span><span class="p">})</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sections</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">group_soup_with_head</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">sections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;h4&quot;</span><span class="p">,</span> <span class="s2">&quot;h5&quot;</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Use only Abstract.&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">toRED</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t scrape well.&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="SpandidosCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.SpandidosCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h4&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>
    
<div class="viewcode-block" id="TaylorandFrancisOnlineCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.TaylorandFrancisOnlineCrawler">[docs]</a><span class="k">class</span> <span class="nc">TaylorandFrancisOnlineCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
    
<div class="viewcode-block" id="TaylorandFrancisOnlineCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.TaylorandFrancisOnlineCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;titleId&quot;</span><span class="p">},</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="TaylorandFrancisOnlineCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.TaylorandFrancisOnlineCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;hlFld-Abstract&quot;</span><span class="p">,</span><span class="s2">&quot;NLM_sec NLM_sec-type_intro NLM_sec_level_1&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="TaylorandFrancisOnlineCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.TaylorandFrancisOnlineCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="bioRxivCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.bioRxivCrawler">[docs]</a><span class="k">class</span> <span class="nc">bioRxivCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
            <span class="n">subheadTags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;h3&quot;</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIDs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ref-list-1&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="bioRxivCrawler.get_soup_source"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.bioRxivCrawler.get_soup_source">[docs]</a>    <span class="k">def</span> <span class="nf">get_soup_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">):</span>
        <span class="c1"># If url is None, we will use crawled information.</span>
        <span class="c1"># https://www.biorxiv.org/content/10.1101/2020.05.14.095356v1</span>
        <span class="n">cano_url</span> <span class="o">=</span> <span class="n">canonicalize</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">)</span>
        <span class="n">cano_url</span> <span class="o">=</span> <span class="n">cano_url</span> <span class="o">+</span> <span class="s2">&quot;.full&quot;</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_soup_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">cano_url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">soup</span></div>

<div class="viewcode-block" id="bioRxivCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.bioRxivCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;page-title&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;highwire-cite-title&quot;</span><span class="p">},</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="bioRxivCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.bioRxivCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article fulltext-view&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sections</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIDs</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="bioRxivCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.bioRxivCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="RSCPublishingCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RSCPublishingCrawler">[docs]</a><span class="k">class</span> <span class="nc">RSCPublishingCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="RSCPublishingCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RSCPublishingCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;capsule__title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="RSCPublishingCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RSCPublishingCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;capsule__column-wrapper&quot;</span><span class="p">)</span>
        <span class="n">text_section</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;pnlArticleContent&quot;</span><span class="p">})</span>
        <span class="k">if</span> <span class="n">text_section</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sections</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">group_soup_with_head</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">text_section</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="RSCPublishingCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RSCPublishingCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="JSSECrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JSSECrawler">[docs]</a><span class="k">class</span> <span class="nc">JSSECrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="JSSECrawler.get_jsseNo"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JSSECrawler.get_jsseNo">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_jsseNo</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;^.*\/index.php\/jsse\/article\/(?:view|download)\/([0-9]+)(?:\/[0-9]+)?$&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\1&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="JSSECrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JSSECrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;https://www.jsse.org/index.php/jsse/article/view/</span><span class="si">{</span><span class="n">JSSECrawler</span><span class="o">.</span><span class="n">get_jsseNo</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span></div>
    
<div class="viewcode-block" id="JSSECrawler.get_html_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JSSECrawler.get_html_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_html_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="o">=</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">JSSECrawler</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">))</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;obj_galley_link pdf&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="JSSECrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JSSECrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">JSSECrawler</span><span class="o">.</span><span class="n">get_html_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/view/&quot;</span><span class="p">,</span> <span class="s2">&quot;/download/&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="JSSECrawler.get_soup_source"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JSSECrawler.get_soup_source">[docs]</a>    <span class="k">def</span> <span class="nf">get_soup_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">):</span>
        <span class="n">jsseNo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_jsseNo</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_soup_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">jsseNo</span><span class="p">),</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">soup</span></div>

<div class="viewcode-block" id="JSSECrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JSSECrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;page_title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="JSSECrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JSSECrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;item abstract&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="JSSECrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JSSECrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h3&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="ScienceAdvancesCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ScienceAdvancesCrawler">[docs]</a><span class="k">class</span> <span class="nc">ScienceAdvancesCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIDs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ref-list-1&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="ScienceAdvancesCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ScienceAdvancesCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article__headline&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="ScienceAdvancesCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ScienceAdvancesCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">article</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;article&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;primary primary--content&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">article</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">soup</span> <span class="o">=</span> <span class="n">article</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIDs</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="ScienceAdvancesCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ScienceAdvancesCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="medRxivCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.medRxivCrawler">[docs]</a><span class="k">class</span> <span class="nc">medRxivCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="medRxivCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.medRxivCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;(^.*\/.*?v[0-9]+)(\..+)?&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\1&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span></div>
            
<div class="viewcode-block" id="medRxivCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.medRxivCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">medRxivCrawler</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.full.pdf&quot;</span></div>

<div class="viewcode-block" id="medRxivCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.medRxivCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;highwire-cite-title&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;page-title&quot;</span><span class="p">},</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="medRxivCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.medRxivCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="medRxivCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.medRxivCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="ACLAnthologyCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACLAnthologyCrawler">[docs]</a><span class="k">class</span> <span class="nc">ACLAnthologyCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="ACLAnthologyCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACLAnthologyCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;.pdf&quot;</span><span class="p">)</span></div>
            
<div class="viewcode-block" id="ACLAnthologyCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACLAnthologyCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ACLAnthologyCrawler</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.pdf&quot;</span></div>

<div class="viewcode-block" id="ACLAnthologyCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACLAnthologyCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;title&quot;</span><span class="p">},</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="ACLAnthologyCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACLAnthologyCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;card-body acl-abstract&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="ACLAnthologyCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACLAnthologyCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h5&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="PNASCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PNASCrawler">[docs]</a><span class="k">class</span> <span class="nc">PNASCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIDs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;fn-group-1&quot;</span><span class="p">,</span> <span class="s2">&quot;ref-list-1&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="PNASCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PNASCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;.full.pdf&quot;</span><span class="p">)</span></div>
            
<div class="viewcode-block" id="PNASCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PNASCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PNASCrawler</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.full.pdf&quot;</span></div>

<div class="viewcode-block" id="PNASCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PNASCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;highwire-cite-title&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;page-title&quot;</span><span class="p">},</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="PNASCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PNASCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;executive-summary&quot;</span><span class="p">)</span> 
        <span class="n">sections</span> <span class="o">+=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIDs</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="PNASCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PNASCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="AMSCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AMSCrawler">[docs]</a><span class="k">class</span> <span class="nc">AMSCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
            <span class="n">subheadTags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;h3&quot;</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIDs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;fn-group-1&quot;</span><span class="p">,</span> <span class="s2">&quot;ref-list-1&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="AMSCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AMSCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;wi-article-title article-title-main&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="AMSCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AMSCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">article</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;widget-items&quot;</span><span class="p">,</span> <span class="s2">&quot;data-widgetname&quot;</span><span class="p">:</span> <span class="s2">&quot;ArticleFulltext&quot;</span><span class="p">})</span>
        <span class="k">if</span> <span class="n">article</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">head</span> <span class="o">=</span> <span class="n">article</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;h2&quot;</span><span class="p">,</span><span class="s2">&quot;h3&quot;</span><span class="p">))</span>
            <span class="k">while</span> <span class="n">head</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">section</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span>
                <span class="n">article</span> <span class="o">=</span> <span class="n">head</span><span class="o">.</span><span class="n">find_next_sibling</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">))</span>
                <span class="n">section</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">head</span><span class="p">)</span>
                <span class="n">head</span> <span class="o">=</span> <span class="n">article</span><span class="o">.</span><span class="n">find_next_sibling</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;h2&quot;</span><span class="p">,</span><span class="s2">&quot;h3&quot;</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">head</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;REFERENCES&quot;</span> <span class="ow">or</span> <span class="n">head</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;backreferences-title&quot;</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="n">section</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">article</span><span class="p">)</span>
                <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="AMSCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AMSCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="ACMCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACMCrawler">[docs]</a><span class="k">class</span> <span class="nc">ACMCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; NOTE: If you want to download PDF, you must run driver with a browser. &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIDs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sec-ref&quot;</span><span class="p">,</span> <span class="s2">&quot;sec-terms&quot;</span><span class="p">,</span> <span class="s2">&quot;sec-comments&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="ACMCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACMCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\/doi(?:\/(abs|e?pdf))?\/&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="k">lambda</span> <span class="n">m</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;abs&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/doi/&quot;</span><span class="p">,</span> <span class="s2">&quot;/doi/abs/&quot;</span><span class="p">),</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span></div>
            
<div class="viewcode-block" id="ACMCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACMCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\/doi(?:\/(abs|e?pdf))?\/&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="k">lambda</span> <span class="n">m</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;pdf&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/doi/&quot;</span><span class="p">,</span> <span class="s2">&quot;/doi/pdf/&quot;</span><span class="p">),</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span></div>

<div class="viewcode-block" id="ACMCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACMCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;citation__title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="ACMCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACMCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article__section&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">e</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidIDs</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="ACMCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ACMCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="APSCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.APSCrawler">[docs]</a><span class="k">class</span> <span class="nc">APSCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="APSCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.APSCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/pdf/&quot;</span><span class="p">,</span> <span class="s2">&quot;/abstract/&quot;</span><span class="p">)</span></div>
            
<div class="viewcode-block" id="APSCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.APSCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/abstract/&quot;</span><span class="p">,</span> <span class="s2">&quot;/pdf/&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="APSCrawler.make_elements_visible"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.APSCrawler.make_elements_visible">[docs]</a>    <span class="k">def</span> <span class="nf">make_elements_visible</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">driver</span><span class="p">):</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">try_find_element_click</span><span class="p">(</span><span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="n">identifier</span><span class="o">=</span><span class="s2">&quot;//section[@class=&#39;article fulltext&#39;]/h4[@class=&#39;title&#39;]/span[@class=&#39;right&#39;]/i[@class=&#39;fi-plus&#39;]&quot;</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s2">&quot;xpath&quot;</span><span class="p">)</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">hidden_elements</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_elements</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;//i[@class=&#39;fi-plus&#39;][contains(@style,&#39;display: block;&#39;)]&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">hidden_elements</span><span class="p">:</span>
                <span class="n">try_find_element_click</span><span class="p">(</span><span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">e</span><span class="p">)</span>  
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">hidden_elements</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
                <span class="k">break</span>  </div>

<div class="viewcode-block" id="APSCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.APSCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h3&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="APSCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.APSCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article-section&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="APSCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.APSCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h5&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;section title&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="ASIPCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ASIPCrawler">[docs]</a><span class="k">class</span> <span class="nc">ASIPCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
            <span class="n">subheadTags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;h3&quot;</span><span class="p">],</span>
        <span class="p">)</span>

<div class="viewcode-block" id="ASIPCrawler.get_asipID"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ASIPCrawler.get_asipID">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_asipID</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;^.+\/(?:(?:article\/(.+)\/)|(?:action\/showPdf\?pii=(.+))).*$&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="k">lambda</span> <span class="n">m</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">or</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span></div>

<div class="viewcode-block" id="ASIPCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ASIPCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;https://ajp.amjpathol.org/article/</span><span class="si">{</span><span class="n">ASIPCrawler</span><span class="o">.</span><span class="n">get_asipID</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="si">}</span><span class="s2">/fulltext&quot;</span></div>

<div class="viewcode-block" id="ASIPCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ASIPCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;https://ajp.amjpathol.org/action/showPdf?pii=</span><span class="si">{</span><span class="n">ASIPCrawler</span><span class="o">.</span><span class="n">get_asipID</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span></div>

<div class="viewcode-block" id="ASIPCrawler.get_soup_source"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ASIPCrawler.get_soup_source">[docs]</a>    <span class="k">def</span> <span class="nf">get_soup_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">):</span>
        <span class="n">asipID</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_asipID</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_soup_source</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">asipID</span><span class="p">),</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="o">**</span><span class="n">gatewaykwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">soup</span></div>

<div class="viewcode-block" id="ASIPCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ASIPCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article-header__title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="ASIPCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ASIPCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">article</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article__sections&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">article</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">article_sections</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">article</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">section</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;OK&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;reference&quot;</span><span class="p">):</span>
                    <span class="k">break</span>
                <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="ASIPCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ASIPCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span>   </div></div>

<div class="viewcode-block" id="AnatomyPubsCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AnatomyPubsCrawler">[docs]</a><span class="k">class</span> <span class="nc">AnatomyPubsCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
            <span class="n">subheadTags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;h3&quot;</span><span class="p">,</span> <span class="s2">&quot;h4&quot;</span><span class="p">],</span>
        <span class="p">)</span>

<div class="viewcode-block" id="AnatomyPubsCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AnatomyPubsCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\/doi(?:\/(full|e?pdf))?\/&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="k">lambda</span> <span class="n">m</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;full&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/doi/&quot;</span><span class="p">,</span> <span class="s2">&quot;/doi/full/&quot;</span><span class="p">),</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span></div>
            
<div class="viewcode-block" id="AnatomyPubsCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AnatomyPubsCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\/doi(?:\/(full|e?pdf))?\/&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="k">lambda</span> <span class="n">m</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;pdf&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/doi/&quot;</span><span class="p">,</span> <span class="s2">&quot;/doi/pdf/&quot;</span><span class="p">),</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span></div>

<div class="viewcode-block" id="AnatomyPubsCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AnatomyPubsCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;citation__title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="AnatomyPubsCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AnatomyPubsCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article-section__content&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="AnatomyPubsCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AnatomyPubsCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span>   </div></div>

<div class="viewcode-block" id="RenalPhysiologyCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RenalPhysiologyCrawler">[docs]</a><span class="k">class</span> <span class="nc">RenalPhysiologyCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
            <span class="n">subheadTags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;h2&quot;</span><span class="p">],</span>
        <span class="p">)</span>

<div class="viewcode-block" id="RenalPhysiologyCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RenalPhysiologyCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\/doi(?:\/(full|e?pdf))?\/&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="k">lambda</span> <span class="n">m</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;full&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/doi/&quot;</span><span class="p">,</span> <span class="s2">&quot;/doi/full/&quot;</span><span class="p">),</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span></div>
            
<div class="viewcode-block" id="RenalPhysiologyCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RenalPhysiologyCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\/doi(?:\/(full|e?pdf))?\/&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="k">lambda</span> <span class="n">m</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;pdf&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/doi/&quot;</span><span class="p">,</span> <span class="s2">&quot;/doi/pdf/&quot;</span><span class="p">),</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="RenalPhysiologyCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RenalPhysiologyCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;citation__title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="RenalPhysiologyCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RenalPhysiologyCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;hlFld-Abstract&quot;</span><span class="p">)</span>
        <span class="n">body_section</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;hlFld-Fulltextl&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">body_section</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sections</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">group_soup_with_head</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">body_section</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="RenalPhysiologyCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RenalPhysiologyCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span>   </div></div>

<div class="viewcode-block" id="GeneticsCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GeneticsCrawler">[docs]</a><span class="k">class</span> <span class="nc">GeneticsCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
            <span class="n">subheadTags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;h4&quot;</span><span class="p">],</span>
        <span class="p">)</span>

<div class="viewcode-block" id="GeneticsCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GeneticsCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;.full.pdf&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/content/genetics/&quot;</span><span class="p">,</span> <span class="s2">&quot;/content/&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="GeneticsCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GeneticsCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">GeneticsCrawler</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/content/&quot;</span><span class="p">,</span> <span class="s2">&quot;/content/genetics/&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;.full.pdf&quot;</span>  </div>

<div class="viewcode-block" id="GeneticsCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GeneticsCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;highwire-cite-title&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;page-title&quot;</span><span class="p">},</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="GeneticsCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GeneticsCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">article</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article fulltext-view&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">article</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">article_sections</span> <span class="o">=</span> <span class="n">group_soup_with_head</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">article</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">article_section</span> <span class="ow">in</span> <span class="n">article_sections</span><span class="p">:</span>
                <span class="n">h2Tag</span> <span class="o">=</span> <span class="n">article_section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">h2Tag</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="n">h2Tag</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;reference&quot;</span><span class="p">):</span>
                    <span class="k">break</span>
                <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">article_section</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="GeneticsCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GeneticsCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span>   </div></div>

<div class="viewcode-block" id="GeneDevCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GeneDevCrawler">[docs]</a><span class="k">class</span> <span class="nc">GeneDevCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="GeneDevCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GeneDevCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;+html&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;.full.pdf&quot;</span><span class="p">)</span></div>
            
<div class="viewcode-block" id="GeneDevCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GeneDevCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">GeneDevCrawler</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.full.pdf&quot;</span></div>

<div class="viewcode-block" id="GeneDevCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GeneDevCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;article-title-1&quot;</span><span class="p">,</span> <span class="s2">&quot;itemprop&quot;</span><span class="p">:</span> <span class="s2">&quot;headline&quot;</span><span class="p">},</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="GeneDevCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GeneDevCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;section abstract&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="GeneDevCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.GeneDevCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span>  </div></div>

<div class="viewcode-block" id="JAMANetworkCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JAMANetworkCrawler">[docs]</a><span class="k">class</span> <span class="nc">JAMANetworkCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="JAMANetworkCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JAMANetworkCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;meta-article-title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="JAMANetworkCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JAMANetworkCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">article</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article-full-text&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">article</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">article_sections</span> <span class="o">=</span> <span class="n">group_soup_with_head</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">article</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;h3&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">article_section</span> <span class="ow">in</span> <span class="n">article_sections</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">article_section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;references&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">article_section</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="JAMANetworkCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JAMANetworkCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;h3&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="SAGEjournalsCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.SAGEjournalsCrawler">[docs]</a><span class="k">class</span> <span class="nc">SAGEjournalsCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="SAGEjournalsCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.SAGEjournalsCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="SAGEjournalsCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.SAGEjournalsCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;hlFld-Abstract&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="SAGEjournalsCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.SAGEjournalsCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="MolCellBioCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.MolCellBioCrawler">[docs]</a><span class="k">class</span> <span class="nc">MolCellBioCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="MolCellBioCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.MolCellBioCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;.full.pdf&quot;</span><span class="p">)</span></div>
            
<div class="viewcode-block" id="MolCellBioCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.MolCellBioCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MolCellBioCrawler</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.full.pdf&quot;</span></div>

<div class="viewcode-block" id="MolCellBioCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.MolCellBioCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;highwire-cite-title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="MolCellBioCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.MolCellBioCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">article</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article fulltext-view&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">article</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">article_sections</span> <span class="o">=</span> <span class="n">group_soup_with_head</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">article</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">article_section</span> <span class="ow">in</span> <span class="n">article_sections</span><span class="p">:</span>
                <span class="n">h2Tag</span> <span class="o">=</span> <span class="n">article_section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">h2Tag</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="n">h2Tag</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;reference&quot;</span><span class="p">):</span>
                    <span class="k">break</span>
                <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">article_section</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="MolCellBioCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.MolCellBioCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="JKMSCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JKMSCrawler">[docs]</a><span class="k">class</span> <span class="nc">JKMSCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
    
<div class="viewcode-block" id="JKMSCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JKMSCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.pdf&quot;</span><span class="p">):</span>
            <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
            <span class="n">PDF_urls</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">==</span><span class="s2">&quot;PDF&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">PDF_urls</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="n">url</span> <span class="o">=</span> <span class="n">PDF_urls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">url</span></div>

<div class="viewcode-block" id="JKMSCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JKMSCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;tl-document&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="JKMSCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JKMSCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;fm&quot;</span><span class="p">,</span> <span class="s2">&quot;body&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="JKMSCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JKMSCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;tl-main-part&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="JKNSCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JKNSCrawler">[docs]</a><span class="k">class</span> <span class="nc">JKNSCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="JKNSCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JKNSCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.pdf&quot;</span><span class="p">):</span>
            <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
            <span class="n">PDF_urls</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;onclick&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;PDF Links&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">PDF_urls</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="n">url</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;journal_download\(&quot;(.+?)&quot;,\s*&quot;(.+?)&quot;,\s*&quot;(.+?)&quot;\)&#39;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;https://www.jkns.or.kr/upload/pdf/\3&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="n">PDF_urls</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">url</span></div>

<div class="viewcode-block" id="JKNSCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JKNSCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h3&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;PubTitle&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="JKNSCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JKNSCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;abstract-layer&quot;</span><span class="p">)</span>
        <span class="n">article</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;abstract-layer&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">article</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sections</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">article</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="JKNSCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.JKNSCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h3&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="BioscienceCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.BioscienceCrawler">[docs]</a><span class="k">class</span> <span class="nc">BioscienceCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="BioscienceCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.BioscienceCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
        <span class="n">frame_urls</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;src&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;frame&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\.html?&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;src&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">frame_urls</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;(^.*\/)(.+?\.html?)$&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\1&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span> <span class="o">+</span> <span class="n">frame_urls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">url</span></div>

<div class="viewcode-block" id="BioscienceCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.BioscienceCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;align&quot;</span><span class="p">:</span><span class="s2">&quot;JUSTIFY&quot;</span><span class="p">},</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="BioscienceCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.BioscienceCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;align&quot;</span> <span class="p">:</span> <span class="s2">&quot;JUSTIFY&quot;</span><span class="p">})</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="BioscienceCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.BioscienceCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="RadioGraphicsCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RadioGraphicsCrawler">[docs]</a><span class="k">class</span> <span class="nc">RadioGraphicsCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="RadioGraphicsCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RadioGraphicsCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/doi/pdf/&quot;</span><span class="p">,</span> <span class="s2">&quot;/doi/&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="RadioGraphicsCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RadioGraphicsCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">RadioGraphicsCrawler</span><span class="o">.</span><span class="n">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/doi/&quot;</span><span class="p">,</span> <span class="s2">&quot;/doi/pdf/&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="RadioGraphicsCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RadioGraphicsCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;citation__title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="RadioGraphicsCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RadioGraphicsCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;hlFld-Abstract&quot;</span><span class="p">)</span>
        <span class="n">article</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;hlFld-Fulltext&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">article</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sections</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">group_soup_with_head</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">article</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article-section__title section__title&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="RadioGraphicsCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.RadioGraphicsCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="PediatricSurgeryCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PediatricSurgeryCrawler">[docs]</a><span class="k">class</span> <span class="nc">PediatricSurgeryCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AvoidDataLeftHandNavs</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;References&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="PediatricSurgeryCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PediatricSurgeryCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article-header__title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="PediatricSurgeryCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PediatricSurgeryCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data-left-hand-nav&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">AvoidDataLeftHandNavs</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="PediatricSurgeryCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.PediatricSurgeryCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="AGUPublicationsCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AGUPublicationsCrawler">[docs]</a><span class="k">class</span> <span class="nc">AGUPublicationsCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="AGUPublicationsCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AGUPublicationsCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\/(?:abs|pdf)\/&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="s2">&quot;/full/&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span></div>

<div class="viewcode-block" id="AGUPublicationsCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AGUPublicationsCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\/(?:abs|full)\/&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="s2">&quot;/pdf/&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span></div>

<div class="viewcode-block" id="AGUPublicationsCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AGUPublicationsCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;citation__title&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="AGUPublicationsCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AGUPublicationsCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;article-section__abstract&quot;</span><span class="p">,</span> <span class="s2">&quot;article-section__content&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="AGUPublicationsCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.AGUPublicationsCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="NEJMCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NEJMCrawler">[docs]</a><span class="k">class</span> <span class="nc">NEJMCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subheadTags</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;h2&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="NEJMCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NEJMCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/pdf/&quot;</span><span class="p">,</span> <span class="s2">&quot;/full/&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="NEJMCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NEJMCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/full/&quot;</span><span class="p">,</span> <span class="s2">&quot;/pdf/&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="NEJMCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NEJMCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;title_default&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="NEJMCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NEJMCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;o-article-body__section&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="NEJMCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.NEJMCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="LWWJournalsCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LWWJournalsCrawler">[docs]</a><span class="k">class</span> <span class="nc">LWWJournalsCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subheadTags</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;h3&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="LWWJournalsCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LWWJournalsCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;header&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ejp-article-header&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="LWWJournalsCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LWWJournalsCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span> <span class="p">:</span> <span class="s2">&quot;abstractWrap&quot;</span><span class="p">})</span>
        <span class="n">article</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;section&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ArticleBody&quot;</span><span class="p">})</span>
        <span class="k">if</span> <span class="n">article</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sections</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">group_soup_with_head</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">article</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="LWWJournalsCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LWWJournalsCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span><span class="s2">&quot;h2&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<div class="viewcode-block" id="ARVOJournalsCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ARVOJournalsCrawler">[docs]</a><span class="k">class</span> <span class="nc">ARVOJournalsCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subheadTags</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;strong&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="ARVOJournalsCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ARVOJournalsCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;wi-article-title article-title-main&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="ARVOJournalsCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ARVOJournalsCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">section</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span><span class="s2">&quot;widget-items&quot;</span><span class="p">,</span> <span class="s2">&quot;data-widgetname&quot;</span><span class="p">:</span><span class="s2">&quot;ArticleFulltext&quot;</span><span class="p">})</span>
        <span class="k">if</span> <span class="n">section</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">section</span>  <span class="o">=</span> <span class="n">replace_soup_tag</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">section</span><span class="p">,</span> <span class="n">new_name</span><span class="o">=</span><span class="s2">&quot;strong&quot;</span><span class="p">,</span> <span class="n">old_name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">old_attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;h7&quot;</span><span class="p">})</span>
            <span class="k">for</span> <span class="n">sec</span> <span class="ow">in</span> <span class="n">split_section</span><span class="p">(</span><span class="n">section</span><span class="o">=</span><span class="n">section</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;h6&quot;</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">str_strip</span><span class="p">(</span><span class="n">sec</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;reference&quot;</span><span class="p">):</span>
                    <span class="k">break</span>
                <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="ARVOJournalsCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.ARVOJournalsCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">section</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;div&quot;</span> <span class="ow">and</span> <span class="s2">&quot;h6&quot;</span> <span class="ow">in</span> <span class="n">section</span><span class="o">.</span><span class="n">get_attribute_list</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">section</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div></div>

<div class="viewcode-block" id="LearningMemoryCrawler"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LearningMemoryCrawler">[docs]</a><span class="k">class</span> <span class="nc">LearningMemoryCrawler</span><span class="p">(</span><span class="n">GummyAbstJournal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gateway</span><span class="o">=</span><span class="s2">&quot;useless&quot;</span><span class="p">,</span> <span class="n">sleep_for_loading</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">crawl_type</span><span class="o">=</span><span class="s2">&quot;soup&quot;</span><span class="p">,</span> 
            <span class="n">gateway</span><span class="o">=</span><span class="n">gateway</span><span class="p">,</span>
            <span class="n">sleep_for_loading</span><span class="o">=</span><span class="n">sleep_for_loading</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
            <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subheadTags</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;h3&quot;</span><span class="p">,</span> <span class="s2">&quot;h4&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="LearningMemoryCrawler.get_soup_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LearningMemoryCrawler.get_soup_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_soup_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;(\.full)?(\.((html)|(pdf)))&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="s2">&quot;.full.html&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span></div>

<div class="viewcode-block" id="LearningMemoryCrawler.get_pdf_url"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LearningMemoryCrawler.get_pdf_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_pdf_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;(\.full)?(\.((html)|(pdf)))&quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="s2">&quot;.full.pdf&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="n">url</span><span class="p">)</span></div>

<div class="viewcode-block" id="LearningMemoryCrawler.get_title_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LearningMemoryCrawler.get_title_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_title_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;article-title-1&quot;</span><span class="p">},</span> <span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">title</span></div>

<div class="viewcode-block" id="LearningMemoryCrawler.get_sections_from_soup"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LearningMemoryCrawler.get_sections_from_soup">[docs]</a>    <span class="k">def</span> <span class="nf">get_sections_from_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">section</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;article fulltext-view&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">section</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">sec</span> <span class="ow">in</span> <span class="n">group_soup_with_head</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">section</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">find_target_text</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">sec</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;reference&quot;</span><span class="p">):</span>
                    <span class="k">break</span>
                <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sections</span></div>

<div class="viewcode-block" id="LearningMemoryCrawler.get_head_from_section"><a class="viewcode-back" href="../../gummy.journals.html#gummy.journals.LearningMemoryCrawler.get_head_from_section">[docs]</a>    <span class="k">def</span> <span class="nf">get_head_from_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span></div></div>

<span class="nb">all</span> <span class="o">=</span> <span class="n">TranslationGummyJournalCrawlers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;pdf&quot;</span>              <span class="p">:</span> <span class="n">LocalPDFCrawler</span><span class="p">,</span>
    <span class="s2">&quot;arxiv&quot;</span>            <span class="p">:</span> <span class="n">arXivCrawler</span><span class="p">,</span> 
    <span class="s2">&quot;nature&quot;</span>           <span class="p">:</span> <span class="n">NatureCrawler</span><span class="p">,</span>
    <span class="s2">&quot;ncbi&quot;</span>             <span class="p">:</span> <span class="n">NCBICrawler</span><span class="p">,</span>
    <span class="s2">&quot;pubmed&quot;</span>           <span class="p">:</span> <span class="n">PubMedCrawler</span><span class="p">,</span>
    <span class="s2">&quot;oxfordacademic&quot;</span>   <span class="p">:</span> <span class="n">OxfordAcademicCrawler</span><span class="p">,</span>
    <span class="s2">&quot;sciencedirect&quot;</span>    <span class="p">:</span> <span class="n">ScienceDirect</span><span class="p">,</span>
    <span class="s2">&quot;springer&quot;</span>         <span class="p">:</span> <span class="n">SpringerCrawler</span><span class="p">,</span>
    <span class="s2">&quot;mdpi&quot;</span>             <span class="p">:</span> <span class="n">MDPICrawler</span><span class="p">,</span>
    <span class="s2">&quot;febs&quot;</span>             <span class="p">:</span> <span class="n">FEBSPRESSCrawler</span><span class="p">,</span>
    <span class="s2">&quot;unioklahoma&quot;</span>      <span class="p">:</span> <span class="n">UniOKLAHOMACrawler</span><span class="p">,</span>
    <span class="s2">&quot;lungcancer&quot;</span>       <span class="p">:</span> <span class="n">LungCancerCrawler</span><span class="p">,</span>
    <span class="s2">&quot;cellpress&quot;</span>        <span class="p">:</span> <span class="n">CellPressCrawler</span><span class="p">,</span>
    <span class="s2">&quot;wiley&quot;</span>            <span class="p">:</span> <span class="n">WileyOnlineLibraryCrawler</span><span class="p">,</span>
    <span class="s2">&quot;jbc&quot;</span>              <span class="p">:</span> <span class="n">JBCCrawler</span><span class="p">,</span>
    <span class="s2">&quot;biologists&quot;</span>       <span class="p">:</span> <span class="n">BiologistsCrawler</span><span class="p">,</span>
    <span class="s2">&quot;biomedcentral&quot;</span>    <span class="p">:</span> <span class="n">BioMedCentralCrawler</span><span class="p">,</span>
    <span class="s2">&quot;ieee&quot;</span>             <span class="p">:</span> <span class="n">IEEEXploreCrawler</span><span class="p">,</span>
    <span class="s2">&quot;jstage&quot;</span>           <span class="p">:</span> <span class="n">JSTAGECrawler</span><span class="p">,</span>
    <span class="s2">&quot;acspublications&quot;</span>  <span class="p">:</span> <span class="n">ACSPublicationsCrawler</span><span class="p">,</span>
    <span class="s2">&quot;stemcells&quot;</span>        <span class="p">:</span> <span class="n">StemCellsCrawler</span><span class="p">,</span>
    <span class="s2">&quot;unikeio&quot;</span>          <span class="p">:</span> <span class="n">KeioUniCrawler</span><span class="p">,</span>
    <span class="s2">&quot;plosone&quot;</span>          <span class="p">:</span> <span class="n">PLOSONECrawler</span><span class="p">,</span>
    <span class="s2">&quot;frontiers&quot;</span>        <span class="p">:</span> <span class="n">frontiersCrawler</span><span class="p">,</span>
    <span class="s2">&quot;rnajournal&quot;</span>       <span class="p">:</span> <span class="n">RNAjournalCrawler</span><span class="p">,</span>
    <span class="s2">&quot;intechopen&quot;</span>       <span class="p">:</span> <span class="n">IntechOpenCrawler</span><span class="p">,</span>
    <span class="s2">&quot;nrcresearchpress&quot;</span> <span class="p">:</span> <span class="n">NRCResearchPressCrawler</span><span class="p">,</span>
    <span class="s2">&quot;spandidos&quot;</span>        <span class="p">:</span> <span class="n">SpandidosCrawler</span><span class="p">,</span>
    <span class="s2">&quot;tandfonline&quot;</span>      <span class="p">:</span> <span class="n">TaylorandFrancisOnlineCrawler</span><span class="p">,</span>
    <span class="s2">&quot;biorxiv&quot;</span>          <span class="p">:</span> <span class="n">bioRxivCrawler</span><span class="p">,</span>
    <span class="s2">&quot;rscpublishing&quot;</span>    <span class="p">:</span> <span class="n">RSCPublishingCrawler</span><span class="p">,</span>
    <span class="s2">&quot;jsse&quot;</span>             <span class="p">:</span> <span class="n">JSSECrawler</span><span class="p">,</span>
    <span class="s2">&quot;scienceadvances&quot;</span>  <span class="p">:</span> <span class="n">ScienceAdvancesCrawler</span><span class="p">,</span>
    <span class="s2">&quot;medrxiv&quot;</span>          <span class="p">:</span> <span class="n">medRxivCrawler</span><span class="p">,</span>
    <span class="s2">&quot;aclanthology&quot;</span>     <span class="p">:</span> <span class="n">ACLAnthologyCrawler</span><span class="p">,</span>
    <span class="s2">&quot;pnas&quot;</span>             <span class="p">:</span> <span class="n">PNASCrawler</span><span class="p">,</span>
    <span class="s2">&quot;ams&quot;</span>              <span class="p">:</span> <span class="n">AMSCrawler</span><span class="p">,</span>
    <span class="s2">&quot;acm&quot;</span>              <span class="p">:</span> <span class="n">ACMCrawler</span><span class="p">,</span>
    <span class="s2">&quot;aps&quot;</span>              <span class="p">:</span> <span class="n">APSCrawler</span><span class="p">,</span>
    <span class="s2">&quot;asip&quot;</span>             <span class="p">:</span> <span class="n">ASIPCrawler</span><span class="p">,</span>
    <span class="s2">&quot;anatomypubs&quot;</span>      <span class="p">:</span> <span class="n">AnatomyPubsCrawler</span><span class="p">,</span>
    <span class="s2">&quot;renalphysiology&quot;</span>  <span class="p">:</span> <span class="n">RenalPhysiologyCrawler</span><span class="p">,</span>
    <span class="s2">&quot;genetics&quot;</span>         <span class="p">:</span> <span class="n">GeneticsCrawler</span><span class="p">,</span>
    <span class="s2">&quot;genedev&quot;</span>          <span class="p">:</span> <span class="n">GeneDevCrawler</span><span class="p">,</span>
    <span class="s2">&quot;jamanetwork&quot;</span>      <span class="p">:</span> <span class="n">JAMANetworkCrawler</span><span class="p">,</span>
    <span class="s2">&quot;sagejournals&quot;</span>     <span class="p">:</span> <span class="n">SAGEjournalsCrawler</span><span class="p">,</span>
    <span class="s2">&quot;molcellbio&quot;</span>       <span class="p">:</span> <span class="n">MolCellBioCrawler</span><span class="p">,</span>
    <span class="s2">&quot;jkms&quot;</span>             <span class="p">:</span> <span class="n">JKMSCrawler</span><span class="p">,</span>
    <span class="s2">&quot;jkns&quot;</span>             <span class="p">:</span> <span class="n">JKNSCrawler</span><span class="p">,</span>
    <span class="s2">&quot;bioscience&quot;</span>       <span class="p">:</span> <span class="n">BioscienceCrawler</span><span class="p">,</span>
    <span class="s2">&quot;radiographics&quot;</span>    <span class="p">:</span> <span class="n">RadioGraphicsCrawler</span><span class="p">,</span>
    <span class="s2">&quot;pediatricsurgery&quot;</span> <span class="p">:</span> <span class="n">PediatricSurgeryCrawler</span><span class="p">,</span>
    <span class="s2">&quot;agupublications&quot;</span>  <span class="p">:</span> <span class="n">AGUPublicationsCrawler</span><span class="p">,</span>
    <span class="s2">&quot;nejm&quot;</span>             <span class="p">:</span> <span class="n">NEJMCrawler</span><span class="p">,</span>
    <span class="s2">&quot;lwwjournals&quot;</span>      <span class="p">:</span> <span class="n">LWWJournalsCrawler</span><span class="p">,</span>
    <span class="s2">&quot;arvo&quot;</span>             <span class="p">:</span> <span class="n">ARVOJournalsCrawler</span><span class="p">,</span>
    <span class="s2">&quot;learningmemory&quot;</span>   <span class="p">:</span> <span class="n">LearningMemoryCrawler</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">get</span> <span class="o">=</span> <span class="n">mk_class_get</span><span class="p">(</span>
    <span class="n">all_classes</span><span class="o">=</span><span class="n">TranslationGummyJournalCrawlers</span><span class="p">,</span>
    <span class="n">gummy_abst_class</span><span class="o">=</span><span class="p">[</span><span class="n">GummyAbstJournal</span><span class="p">],</span>
    <span class="n">genre</span><span class="o">=</span><span class="s2">&quot;journals&quot;</span>
<span class="p">)</span>

</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Translation-Gummy  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">gummy.journals</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Shuto.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>